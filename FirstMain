package Login;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.image.BufferedImage;
import java.io.*;
import javax.imageio.ImageIO;
import javax.swing.*;
import javax.swing.event.*;

public class FirstMain extends JFrame {
	private JButton single, multi, exit;
	private JPanel southPane, southPaneBtn, mainPane;
	private BufferedImage img = null;

	public FirstMain() {
		this.setTitle("짝 맞추기 게임 - by.PLUS");
		this.setLocation(200, 200); // 윈도우화면에서 창의 위치정하는 메소드(좌표 x, y)
		this.setDefaultCloseOperation(DISPOSE_ON_CLOSE); // 창 닫을때 프로그램 종료시킴
		this.setLayout(new BorderLayout());

		try {
			img = ImageIO.read(new File("images/1.jpg"));
		} catch (IOException e) {
			System.out.println(e.getMessage());
			System.exit(0);
		}

		add(new MyPanel());
		pack();

		single = new JButton("혼자하기");
		multi = new JButton("같이하기");
		exit = new JButton("나가기");

		single.setPreferredSize(new Dimension(150, 40));
		


		mainPane = new JPanel();
		southPane = new JPanel();
		southPaneBtn = new JPanel();

		southPane.setOpaque(false);
		southPaneBtn.setOpaque(false);

		mainPane.setPreferredSize(new Dimension(450, 500));
		southPane.setPreferredSize(new Dimension(450, 200));

		mainPane.setLayout(new BorderLayout());

		GridLayout grid = new GridLayout(3, 1);
		southPane.add(southPaneBtn);
		southPaneBtn.setLayout(grid);
		grid.setVgap(23);

		southPaneBtn.add(single);
		southPaneBtn.add(multi);
		southPaneBtn.add(exit);

		exit.addActionListener(new ActionListener() {
			@Override
			public void actionPerformed(ActionEvent event) {
				if (event.getActionCommand().equals("나가기")) {
					int result = JOptionPane.showConfirmDialog(getParent(), "게임을 종료하시겠습니까?", "게임 종료",
							JOptionPane.YES_NO_OPTION);

					if (result == 0)
						System.exit(0);
				}
			}
		});

		this.add(mainPane);
		mainPane.add(southPane, BorderLayout.SOUTH);

		setVisible(true);
	}

	class MyPanel extends JPanel {

		public void paint(Graphics g) {
			g.drawImage(img, 0, 0, null);
		}

		public Dimension getPreferredSize() {
			if (img == null) {
				return new Dimension(100, 100);
			} else {
				return new Dimension(img.getWidth(null), img.getHeight(null));
			}
		}
	}

	public static void main(String[] args) {
		new FirstMain();
	}
}
